#!/usr/bin/env node

const path = require('path');
const fs = require('fs-extra');

const TEMPLATE_DIR = 'lib/assets';

async function setupProject() {
  // プロジェクトのルートディレクトリのパスを取得する
  const projectDir = process.env.INIT_CWD || process.cwd();

  // パッケージのルートディレクトリのパスを取得する
  const packageDir = path.join(__dirname, '..');

  // テンプレートファイルが含まれるディレクトリのパスを取得する
  const templateDir = path.join(packageDir, TEMPLATE_DIR);

  try {
    // テンプレートファイルをプロジェクトのルートディレクトリにコピーする
    await fs.copy(templateDir, projectDir, { overwrite: true, errorOnExist: false });
    console.log(`[claude-code-booster] Copied assets from "${templateDir}" to "${projectDir}"`);
  } catch (err) {
    console.error('[claude-code-booster] Asset copy failed:', err);
    process.exitCode = 1;
    return;
  }

  // 追加のセットアップ処理があればここに記述
}

setupProject();